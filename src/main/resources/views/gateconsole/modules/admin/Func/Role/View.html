<main g:template="/views/PAGE.html">
	<form id='form' method='POST' g:action='Insert'>
		<fieldset>
			<label>
				<span>
					<g:select empty="Incluir"
						  options="${roles}"
						  values="${e -> e.id}"
						  labels="${e -> e.name}"
						  children="${e -> e.children}"
						  property='role.id'
						  tabindex='1'
						  data-method="post"/>
				</span>
			</label>
			<g:hidden property="func.id"/>
		</fieldset>

		<g-coolbar>
			<button class="primary" g:action="Insert"/>
		</g-coolbar>
	</form>

	<table class="c2"
	       g:condition="${not empty screen.page}"
	       g:otherwise='Esta função não possui perfil associado'>
		<colgroup>
			<col/>
			<col style="width: 48px"/>
		</colgroup>

		<caption>
			PERFIS ENCONTRADOS: ${screen.page.paginator.dataSize}
		</caption>
		<thead>
			<tr>
				<th>
					Nome
				</th>
				<th>
					<g:icon type="delete"/>
				</th>
			</tr>
		</thead>
		<tfoot>
			<tr>
				<td colspan='2'>
					<g:paginator/>
				</td>
			</tr>
		</tfoot>
		<tbody>
			<tr th:each='target: ${screen.page}'>
				<td g:print="${target.name}"/>
				<td>
					<g:shortcut action="Delete" _func.id="${screen.func.id}" _role.id="${target.id}"/>
				</td>
			</tr>
		</tbody>
	</table>
</main>