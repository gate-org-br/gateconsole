<section>
	<form method='post' g:action='Insert'
	      target="@reset(@after-begin(this.parent(section).search(tbody)))">
		<fieldset>
			<label>
				<span>
					<input type="text"
					       g:property='user.name'
					       data-action='/service/users'
					       data-target='@search(criteria)'
					       tabindex='1'
					       title="Entre com o nome"
					       placeholder="Incluir"/>
					<input type="hidden" g:property='user.id'/>
					<a href="/service/users" target='@search(criteria)'>
						<g:icon type='search'/>
					</a>
				</span>
			</label>
			<input type="hidden" g:property="func.id"/>
		</fieldset>

		<g-coolbar>
			<button class="primary" g:action="Insert"/>
		</g-coolbar>
	</form>

	<table is='g-table' class="c3"
	       data-empty='Nenhum registro encontrado'>
		<colgroup>
			<col/>
			<col/>
			<col style="width: 48px"/>
		</colgroup>

		<caption>
			USU√ÅRIOS ENCONTRADOS: <span data-table-size></span>
		</caption>
		<thead>
			<tr>
				<th>
					Nome
				</th>
				<th>
					Perfil
				</th>
				<th g:icon="delete"/>
			</tr>
		</thead>
		<tbody>
			<tr th:each="target: ${screen.page}">
				<td g:print="${target.name}"/>
				<td g:print="${target.role.name}"/>
				<td>
					<a g:action="Delete"
					   _func.id='${screen.func.id}'
					   _user.id='${target.id}'
					   target='@remove(this.parent(1))'>
						<g:icon type="delete"/>
					</a>
				</td>
			</tr>
		</tbody>
	</table>
</section>